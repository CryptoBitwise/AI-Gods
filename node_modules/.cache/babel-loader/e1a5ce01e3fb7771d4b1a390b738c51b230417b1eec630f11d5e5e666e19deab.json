{"ast":null,"code":"var _jsxFileName = \"D:\\\\AI-Gods\\\\src\\\\components\\\\VoiceSummoning.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Mic, MicOff, Settings, X, Zap, Crown, Flame, MessageSquare, Target, Sparkles, AlertCircle, CheckCircle, Loader } from 'lucide-react';\nimport { GODS } from '../data/gods';\nimport voiceRecognitionService from '../services/voiceRecognition';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VoiceSummoning = ({\n  onClose,\n  onGodSummon,\n  onRitualStart,\n  onCouncilStart\n}) => {\n  _s();\n  var _GODS$find;\n  const [isListening, setIsListening] = useState(false);\n  const [isPushToTalkActive, setIsPushToTalkActive] = useState(false);\n  const [currentTranscript, setCurrentTranscript] = useState('');\n  const [interimTranscript, setInterimTranscript] = useState('');\n  const [lastCommand, setLastCommand] = useState(null);\n  const [recognitionHistory, setRecognitionHistory] = useState([]);\n  const [isSupported, setIsSupported] = useState(false);\n  const [hasPermission, setHasPermission] = useState(false);\n  const [showSettings, setShowSettings] = useState(false);\n  const [settings, setSettings] = useState({\n    language: 'en-US',\n    continuous: false,\n    interimResults: true,\n    maxAlternatives: 3,\n    threshold: 0.6\n  });\n  const [statusMessage, setStatusMessage] = useState('');\n  const [error, setError] = useState(null);\n  const transcriptRef = useRef(null);\n  useEffect(() => {\n    // Check if voice recognition is supported\n    setIsSupported(voiceRecognitionService.isSupported());\n\n    // Request microphone permission\n    voiceRecognitionService.requestMicrophonePermission().then(setHasPermission);\n\n    // Set up event listeners\n    voiceRecognitionService.on('start', () => {\n      setIsListening(true);\n      setStatusMessage('🎤 Listening...');\n      setError(null);\n    });\n    voiceRecognitionService.on('end', () => {\n      setIsListening(false);\n      setStatusMessage('');\n      setInterimTranscript('');\n    });\n    voiceRecognitionService.on('error', errorMsg => {\n      setError(`Voice recognition error: ${errorMsg}`);\n      setIsListening(false);\n      setStatusMessage('');\n    });\n    voiceRecognitionService.on('result', result => {\n      setCurrentTranscript(result.transcript);\n      setRecognitionHistory(prev => [result, ...prev.slice(0, 9)]); // Keep last 10\n\n      if (result.command) {\n        setLastCommand(result.command);\n        handleVoiceCommand(result.command);\n      }\n    });\n    voiceRecognitionService.on('interim', data => {\n      setInterimTranscript(data.transcript);\n    });\n    voiceRecognitionService.on('pushToTalkStart', () => {\n      setIsPushToTalkActive(true);\n      setStatusMessage('🎤 Push-to-talk active (release SPACE to stop)');\n    });\n    voiceRecognitionService.on('pushToTalkStop', () => {\n      setIsPushToTalkActive(false);\n    });\n\n    // Auto-scroll transcript\n    return () => {\n      voiceRecognitionService.destroy();\n    };\n  }, []);\n  useEffect(() => {\n    if (transcriptRef.current) {\n      transcriptRef.current.scrollTop = transcriptRef.current.scrollHeight;\n    }\n  }, [recognitionHistory, interimTranscript]);\n  const handleVoiceCommand = command => {\n    console.log('🎯 Executing voice command:', command);\n    switch (command.action) {\n      case 'summon':\n        if (command.godId && onGodSummon) {\n          const god = GODS.find(g => g.id === command.godId);\n          if (god) {\n            onGodSummon(god);\n            setStatusMessage(`✨ Summoning ${god.name}...`);\n          }\n        }\n        break;\n      case 'ritual':\n        if (onRitualStart) {\n          onRitualStart(command.godId);\n          setStatusMessage('🔥 Starting ritual...');\n        }\n        break;\n      case 'council':\n        if (onCouncilStart) {\n          onCouncilStart();\n          setStatusMessage('👑 Convening pantheon council...');\n        }\n        break;\n      case 'question':\n        setStatusMessage('❓ Processing your question...');\n        break;\n      case 'dismiss':\n        setStatusMessage('👋 Farewell...');\n        setTimeout(() => onClose(), 1000);\n        break;\n      default:\n        setStatusMessage(`🎯 Command recognized: ${command.action}`);\n    }\n  };\n  const toggleListening = () => {\n    if (isListening) {\n      voiceRecognitionService.stopListening();\n    } else {\n      voiceRecognitionService.startListening();\n    }\n  };\n  const updateSettings = newSettings => {\n    const updated = {\n      ...settings,\n      ...newSettings\n    };\n    setSettings(updated);\n    voiceRecognitionService.updateSettings(updated);\n  };\n  const clearHistory = () => {\n    setRecognitionHistory([]);\n    setCurrentTranscript('');\n    setInterimTranscript('');\n    setLastCommand(null);\n  };\n  const getCommandIcon = action => {\n    switch (action) {\n      case 'summon':\n        return /*#__PURE__*/_jsxDEV(Zap, {\n          className: \"text-divine-400\",\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 29\n        }, this);\n      case 'ritual':\n        return /*#__PURE__*/_jsxDEV(Flame, {\n          className: \"text-red-400\",\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 29\n        }, this);\n      case 'council':\n        return /*#__PURE__*/_jsxDEV(Crown, {\n          className: \"text-yellow-400\",\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 30\n        }, this);\n      case 'question':\n        return /*#__PURE__*/_jsxDEV(MessageSquare, {\n          className: \"text-blue-400\",\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 31\n        }, this);\n      case 'dismiss':\n        return /*#__PURE__*/_jsxDEV(X, {\n          className: \"text-gray-400\",\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 30\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(Target, {\n          className: \"text-divine-400\",\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 23\n        }, this);\n    }\n  };\n  const getConfidenceColor = confidence => {\n    if (confidence >= 0.8) return 'text-green-400';\n    if (confidence >= 0.6) return 'text-yellow-400';\n    return 'text-red-400';\n  };\n  if (!isSupported) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-slate-900 border border-red-500/30 rounded-xl p-8 max-w-md text-center\",\n        children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n          className: \"text-red-400 mx-auto mb-4\",\n          size: 48\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-red-100 mb-4\",\n          children: \"Voice Recognition Not Supported\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-300 mb-6\",\n          children: \"Your browser doesn't support the Web Speech API. Please use Chrome, Edge, or Safari for voice summoning.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors\",\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this);\n  }\n  if (!hasPermission) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-slate-900 border border-yellow-500/30 rounded-xl p-8 max-w-md text-center\",\n        children: [/*#__PURE__*/_jsxDEV(Mic, {\n          className: \"text-yellow-400 mx-auto mb-4\",\n          size: 48\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-yellow-100 mb-4\",\n          children: \"Microphone Permission Required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-yellow-300 mb-6\",\n          children: \"Voice summoning requires microphone access to hear your divine commands.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => voiceRecognitionService.requestMicrophonePermission().then(setHasPermission),\n            className: \"w-full px-6 py-3 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg transition-colors\",\n            children: \"Grant Permission\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"w-full px-6 py-3 bg-slate-700 hover:bg-slate-600 text-divine-100 rounded-lg transition-colors\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-slate-900 border border-divine-500/30 rounded-xl w-full max-w-4xl h-full max-h-[85vh] flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between p-6 border-b border-divine-500/30\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(Mic, {\n            className: \"text-2xl text-divine-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold text-divine-100\",\n              children: \"Voice Summoning\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-divine-300\",\n              children: \"Hold SPACE or click to speak divine commands\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowSettings(!showSettings),\n            className: \"p-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-divine-100 transition-colors\",\n            title: \"Voice Settings\",\n            children: /*#__PURE__*/_jsxDEV(Settings, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"p-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-divine-100 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 flex overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-80 bg-slate-800 border-r border-divine-500/30 p-6 flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-divine-100 mb-4\",\n              children: \"Voice Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex items-center space-x-3 p-4 rounded-lg mb-4 ${isListening ? 'bg-green-600/20 border border-green-500/30' : 'bg-slate-700/50'}`,\n              children: [isListening ? /*#__PURE__*/_jsxDEV(Loader, {\n                className: \"text-green-400 animate-spin\",\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(MicOff, {\n                className: \"text-slate-400\",\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `font-medium ${isListening ? 'text-green-100' : 'text-slate-300'}`,\n                  children: isListening ? 'Listening...' : 'Ready'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 19\n                }, this), statusMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-divine-300\",\n                  children: statusMessage\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-red-600/20 border border-red-500/30 rounded-lg p-3 mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-red-400 text-sm\",\n                children: error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 17\n            }, this), isPushToTalkActive && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-divine-600/20 border border-divine-500/30 rounded-lg p-3 mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-3 h-3 bg-divine-400 rounded-full animate-pulse\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-divine-200 text-sm\",\n                  children: \"Push-to-talk active\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-divine-100 mb-4\",\n              children: \"Controls\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: toggleListening,\n                className: `w-full flex items-center justify-center space-x-2 px-4 py-3 rounded-lg font-medium transition-colors ${isListening ? 'bg-red-600 hover:bg-red-700 text-white' : 'bg-divine-600 hover:bg-divine-700 text-white'}`,\n                children: [isListening ? /*#__PURE__*/_jsxDEV(MicOff, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 34\n                }, this) : /*#__PURE__*/_jsxDEV(Mic, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 57\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: isListening ? 'Stop Listening' : 'Start Listening'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center text-sm text-divine-300\",\n                children: [\"or hold \", /*#__PURE__*/_jsxDEV(\"kbd\", {\n                  className: \"px-2 py-1 bg-slate-700 rounded\",\n                  children: \"SPACE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 27\n                }, this), \" to push-to-talk\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: clearHistory,\n                className: \"w-full px-4 py-2 bg-slate-700 hover:bg-slate-600 text-divine-100 rounded-lg transition-colors\",\n                children: \"Clear History\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this), lastCommand && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-divine-100 mb-4\",\n              children: \"Last Command\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-divine-600/20 border border-divine-500/30 rounded-lg p-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2 mb-2\",\n                children: [getCommandIcon(lastCommand.action), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-divine-100 capitalize\",\n                  children: lastCommand.action\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `text-sm ${getConfidenceColor(lastCommand.confidence)}`,\n                  children: [(lastCommand.confidence * 100).toFixed(0), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 19\n              }, this), lastCommand.godId && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-divine-300\",\n                children: [\"Target: \", ((_GODS$find = GODS.find(g => g.id === lastCommand.godId)) === null || _GODS$find === void 0 ? void 0 : _GODS$find.name) || lastCommand.godId]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-divine-100 mb-4\",\n              children: \"Voice Commands\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-divine-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Summon:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 19\n                }, this), \" \\\"Summon [God Name]\\\"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-divine-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Ritual:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 19\n                }, this), \" \\\"Start ritual\\\"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-divine-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Council:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 19\n                }, this), \" \\\"Convene council\\\"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-divine-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Question:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 19\n                }, this), \" \\\"I have a question\\\"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-divine-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Dismiss:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 19\n                }, this), \" \\\"Farewell\\\"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 border-b border-divine-500/30\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-divine-100\",\n              children: \"Voice Transcript\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: transcriptRef,\n            className: \"flex-1 overflow-y-auto p-4 space-y-4\",\n            children: [(currentTranscript || interimTranscript) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-divine-600/20 border border-divine-500/30 rounded-lg p-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2 mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(Mic, {\n                  className: \"text-divine-400\",\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-divine-300\",\n                  children: \"Current\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-divine-100\",\n                children: [currentTranscript, interimTranscript && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-divine-400 italic\",\n                  children: [\" \", interimTranscript]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 17\n            }, this), recognitionHistory.map((result, index) => {\n              var _GODS$find2;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-slate-800 border border-slate-600 rounded-lg p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                      className: \"text-green-400\",\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 436,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm text-slate-300\",\n                      children: result.timestamp.toLocaleTimeString()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 437,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 435,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `text-sm ${getConfidenceColor(result.confidence)}`,\n                    children: [(result.confidence * 100).toFixed(0), \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 441,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-slate-100 mb-2\",\n                  children: result.transcript\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 19\n                }, this), result.command && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2 mt-3 pt-3 border-t border-slate-600\",\n                  children: [getCommandIcon(result.command.action), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-divine-300 capitalize\",\n                    children: result.command.action\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 451,\n                    columnNumber: 23\n                  }, this), result.command.godId && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-divine-400\",\n                    children: [\"\\u2192 \", (_GODS$find2 = GODS.find(g => g.id === result.command.godId)) === null || _GODS$find2 === void 0 ? void 0 : _GODS$find2.name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 455,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 449,\n                  columnNumber: 21\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 17\n              }, this);\n            }), recognitionHistory.length === 0 && !currentTranscript && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-12\",\n              children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n                className: \"text-slate-500 mx-auto mb-4\",\n                size: 48\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-slate-400\",\n                children: \"Speak your divine commands and they will appear here\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this), showSettings && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0 bg-black/50 flex items-center justify-center z-10\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-slate-800 border border-divine-500/30 rounded-lg p-6 max-w-md w-full mx-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold text-divine-100 mb-4\",\n            children: \"Voice Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-divine-300 mb-2\",\n                children: \"Language\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: settings.language,\n                onChange: e => updateSettings({\n                  language: e.target.value\n                }),\n                className: \"w-full bg-slate-700 border border-divine-500/30 rounded-lg px-3 py-2 text-divine-100\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"en-US\",\n                  children: \"English (US)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 492,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"en-GB\",\n                  children: \"English (UK)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 493,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"es-ES\",\n                  children: \"Spanish\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 494,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"fr-FR\",\n                  children: \"French\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"de-DE\",\n                  children: \"German\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 496,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"it-IT\",\n                  children: \"Italian\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 497,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"ja-JP\",\n                  children: \"Japanese\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 498,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"ko-KR\",\n                  children: \"Korean\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 499,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 487,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-divine-300 mb-2\",\n                children: [\"Confidence Threshold: \", (settings.threshold * 100).toFixed(0), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                min: \"0.3\",\n                max: \"0.9\",\n                step: \"0.1\",\n                value: settings.threshold,\n                onChange: e => updateSettings({\n                  threshold: parseFloat(e.target.value)\n                }),\n                className: \"w-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-center space-x-2 text-divine-300\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: settings.continuous,\n                  onChange: e => updateSettings({\n                    continuous: e.target.checked\n                  }),\n                  className: \"rounded\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 520,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Continuous Listening\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 526,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 518,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-center space-x-2 text-divine-300\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: settings.interimResults,\n                  onChange: e => updateSettings({\n                    interimResults: e.target.checked\n                  }),\n                  className: \"rounded\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 532,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Show Interim Results\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 538,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 531,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-2 mt-6\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowSettings(false),\n              className: \"flex-1 bg-slate-700 hover:bg-slate-600 text-divine-100 py-2 px-4 rounded-lg transition-colors\",\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 543,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 252,\n    columnNumber: 5\n  }, this);\n};\n_s(VoiceSummoning, \"aK07e8gL4OMj0WiY8cj3G7IO+Cg=\");\n_c = VoiceSummoning;\nexport default VoiceSummoning;\nvar _c;\n$RefreshReg$(_c, \"VoiceSummoning\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Mic","MicOff","Settings","X","Zap","Crown","Flame","MessageSquare","Target","Sparkles","AlertCircle","CheckCircle","Loader","GODS","voiceRecognitionService","jsxDEV","_jsxDEV","VoiceSummoning","onClose","onGodSummon","onRitualStart","onCouncilStart","_s","_GODS$find","isListening","setIsListening","isPushToTalkActive","setIsPushToTalkActive","currentTranscript","setCurrentTranscript","interimTranscript","setInterimTranscript","lastCommand","setLastCommand","recognitionHistory","setRecognitionHistory","isSupported","setIsSupported","hasPermission","setHasPermission","showSettings","setShowSettings","settings","setSettings","language","continuous","interimResults","maxAlternatives","threshold","statusMessage","setStatusMessage","error","setError","transcriptRef","requestMicrophonePermission","then","on","errorMsg","result","transcript","prev","slice","command","handleVoiceCommand","data","destroy","current","scrollTop","scrollHeight","console","log","action","godId","god","find","g","id","name","setTimeout","toggleListening","stopListening","startListening","updateSettings","newSettings","updated","clearHistory","getCommandIcon","className","size","fileName","_jsxFileName","lineNumber","columnNumber","getConfidenceColor","confidence","children","onClick","title","toFixed","ref","map","index","_GODS$find2","timestamp","toLocaleTimeString","length","value","onChange","e","target","type","min","max","step","parseFloat","checked","_c","$RefreshReg$"],"sources":["D:/AI-Gods/src/components/VoiceSummoning.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { \r\n  Mic, \r\n  MicOff, \r\n  Settings, \r\n  Volume2, \r\n  VolumeX, \r\n  X, \r\n  Zap, \r\n  Crown, \r\n  Flame, \r\n  MessageSquare,\r\n  Target,\r\n  Sparkles,\r\n  AlertCircle,\r\n  CheckCircle,\r\n  Loader\r\n} from 'lucide-react';\r\nimport { God } from '../types/gods';\r\nimport { GODS } from '../data/gods';\r\nimport voiceRecognitionService, { \r\n  VoiceRecognitionResult, \r\n  VoiceCommand, \r\n  VoiceSettings \r\n} from '../services/voiceRecognition';\r\n\r\ninterface VoiceSummoningProps {\r\n  onClose: () => void;\r\n  onGodSummon?: (god: God) => void;\r\n  onRitualStart?: (godId?: string) => void;\r\n  onCouncilStart?: () => void;\r\n}\r\n\r\nconst VoiceSummoning: React.FC<VoiceSummoningProps> = ({\r\n  onClose,\r\n  onGodSummon,\r\n  onRitualStart,\r\n  onCouncilStart\r\n}) => {\r\n  const [isListening, setIsListening] = useState(false);\r\n  const [isPushToTalkActive, setIsPushToTalkActive] = useState(false);\r\n  const [currentTranscript, setCurrentTranscript] = useState('');\r\n  const [interimTranscript, setInterimTranscript] = useState('');\r\n  const [lastCommand, setLastCommand] = useState<VoiceCommand | null>(null);\r\n  const [recognitionHistory, setRecognitionHistory] = useState<VoiceRecognitionResult[]>([]);\r\n  const [isSupported, setIsSupported] = useState(false);\r\n  const [hasPermission, setHasPermission] = useState(false);\r\n  const [showSettings, setShowSettings] = useState(false);\r\n  const [settings, setSettings] = useState<VoiceSettings>({\r\n    language: 'en-US',\r\n    continuous: false,\r\n    interimResults: true,\r\n    maxAlternatives: 3,\r\n    threshold: 0.6\r\n  });\r\n  const [statusMessage, setStatusMessage] = useState('');\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const transcriptRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    // Check if voice recognition is supported\r\n    setIsSupported(voiceRecognitionService.isSupported());\r\n    \r\n    // Request microphone permission\r\n    voiceRecognitionService.requestMicrophonePermission()\r\n      .then(setHasPermission);\r\n\r\n    // Set up event listeners\r\n    voiceRecognitionService.on('start', () => {\r\n      setIsListening(true);\r\n      setStatusMessage('🎤 Listening...');\r\n      setError(null);\r\n    });\r\n\r\n    voiceRecognitionService.on('end', () => {\r\n      setIsListening(false);\r\n      setStatusMessage('');\r\n      setInterimTranscript('');\r\n    });\r\n\r\n    voiceRecognitionService.on('error', (errorMsg: string) => {\r\n      setError(`Voice recognition error: ${errorMsg}`);\r\n      setIsListening(false);\r\n      setStatusMessage('');\r\n    });\r\n\r\n    voiceRecognitionService.on('result', (result: VoiceRecognitionResult) => {\r\n      setCurrentTranscript(result.transcript);\r\n      setRecognitionHistory(prev => [result, ...prev.slice(0, 9)]); // Keep last 10\r\n      \r\n      if (result.command) {\r\n        setLastCommand(result.command);\r\n        handleVoiceCommand(result.command);\r\n      }\r\n    });\r\n\r\n    voiceRecognitionService.on('interim', (data: { transcript: string }) => {\r\n      setInterimTranscript(data.transcript);\r\n    });\r\n\r\n    voiceRecognitionService.on('pushToTalkStart', () => {\r\n      setIsPushToTalkActive(true);\r\n      setStatusMessage('🎤 Push-to-talk active (release SPACE to stop)');\r\n    });\r\n\r\n    voiceRecognitionService.on('pushToTalkStop', () => {\r\n      setIsPushToTalkActive(false);\r\n    });\r\n\r\n    // Auto-scroll transcript\r\n    return () => {\r\n      voiceRecognitionService.destroy();\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (transcriptRef.current) {\r\n      transcriptRef.current.scrollTop = transcriptRef.current.scrollHeight;\r\n    }\r\n  }, [recognitionHistory, interimTranscript]);\r\n\r\n  const handleVoiceCommand = (command: VoiceCommand) => {\r\n    console.log('🎯 Executing voice command:', command);\r\n    \r\n    switch (command.action) {\r\n      case 'summon':\r\n        if (command.godId && onGodSummon) {\r\n          const god = GODS.find(g => g.id === command.godId);\r\n          if (god) {\r\n            onGodSummon(god);\r\n            setStatusMessage(`✨ Summoning ${god.name}...`);\r\n          }\r\n        }\r\n        break;\r\n        \r\n      case 'ritual':\r\n        if (onRitualStart) {\r\n          onRitualStart(command.godId);\r\n          setStatusMessage('🔥 Starting ritual...');\r\n        }\r\n        break;\r\n        \r\n      case 'council':\r\n        if (onCouncilStart) {\r\n          onCouncilStart();\r\n          setStatusMessage('👑 Convening pantheon council...');\r\n        }\r\n        break;\r\n        \r\n      case 'question':\r\n        setStatusMessage('❓ Processing your question...');\r\n        break;\r\n        \r\n      case 'dismiss':\r\n        setStatusMessage('👋 Farewell...');\r\n        setTimeout(() => onClose(), 1000);\r\n        break;\r\n        \r\n      default:\r\n        setStatusMessage(`🎯 Command recognized: ${command.action}`);\r\n    }\r\n  };\r\n\r\n  const toggleListening = () => {\r\n    if (isListening) {\r\n      voiceRecognitionService.stopListening();\r\n    } else {\r\n      voiceRecognitionService.startListening();\r\n    }\r\n  };\r\n\r\n  const updateSettings = (newSettings: Partial<VoiceSettings>) => {\r\n    const updated = { ...settings, ...newSettings };\r\n    setSettings(updated);\r\n    voiceRecognitionService.updateSettings(updated);\r\n  };\r\n\r\n  const clearHistory = () => {\r\n    setRecognitionHistory([]);\r\n    setCurrentTranscript('');\r\n    setInterimTranscript('');\r\n    setLastCommand(null);\r\n  };\r\n\r\n  const getCommandIcon = (action: string) => {\r\n    switch (action) {\r\n      case 'summon': return <Zap className=\"text-divine-400\" size={16} />;\r\n      case 'ritual': return <Flame className=\"text-red-400\" size={16} />;\r\n      case 'council': return <Crown className=\"text-yellow-400\" size={16} />;\r\n      case 'question': return <MessageSquare className=\"text-blue-400\" size={16} />;\r\n      case 'dismiss': return <X className=\"text-gray-400\" size={16} />;\r\n      default: return <Target className=\"text-divine-400\" size={16} />;\r\n    }\r\n  };\r\n\r\n  const getConfidenceColor = (confidence: number) => {\r\n    if (confidence >= 0.8) return 'text-green-400';\r\n    if (confidence >= 0.6) return 'text-yellow-400';\r\n    return 'text-red-400';\r\n  };\r\n\r\n  if (!isSupported) {\r\n    return (\r\n      <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\r\n        <div className=\"bg-slate-900 border border-red-500/30 rounded-xl p-8 max-w-md text-center\">\r\n          <AlertCircle className=\"text-red-400 mx-auto mb-4\" size={48} />\r\n          <h2 className=\"text-2xl font-bold text-red-100 mb-4\">Voice Recognition Not Supported</h2>\r\n          <p className=\"text-red-300 mb-6\">\r\n            Your browser doesn't support the Web Speech API. Please use Chrome, Edge, or Safari for voice summoning.\r\n          </p>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors\"\r\n          >\r\n            Close\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!hasPermission) {\r\n    return (\r\n      <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\r\n        <div className=\"bg-slate-900 border border-yellow-500/30 rounded-xl p-8 max-w-md text-center\">\r\n          <Mic className=\"text-yellow-400 mx-auto mb-4\" size={48} />\r\n          <h2 className=\"text-2xl font-bold text-yellow-100 mb-4\">Microphone Permission Required</h2>\r\n          <p className=\"text-yellow-300 mb-6\">\r\n            Voice summoning requires microphone access to hear your divine commands.\r\n          </p>\r\n          <div className=\"space-y-3\">\r\n            <button\r\n              onClick={() => voiceRecognitionService.requestMicrophonePermission().then(setHasPermission)}\r\n              className=\"w-full px-6 py-3 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg transition-colors\"\r\n            >\r\n              Grant Permission\r\n            </button>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"w-full px-6 py-3 bg-slate-700 hover:bg-slate-600 text-divine-100 rounded-lg transition-colors\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\r\n      <div className=\"bg-slate-900 border border-divine-500/30 rounded-xl w-full max-w-4xl h-full max-h-[85vh] flex flex-col\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between p-6 border-b border-divine-500/30\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <Mic className=\"text-2xl text-divine-400\" />\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold text-divine-100\">Voice Summoning</h1>\r\n              <p className=\"text-divine-300\">\r\n                Hold SPACE or click to speak divine commands\r\n              </p>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center space-x-2\">\r\n            <button\r\n              onClick={() => setShowSettings(!showSettings)}\r\n              className=\"p-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-divine-100 transition-colors\"\r\n              title=\"Voice Settings\"\r\n            >\r\n              <Settings size={20} />\r\n            </button>\r\n            \r\n            <button\r\n              onClick={onClose}\r\n              className=\"p-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-divine-100 transition-colors\"\r\n            >\r\n              <X size={20} />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Main Content */}\r\n        <div className=\"flex-1 flex overflow-hidden\">\r\n          {/* Left Panel - Controls */}\r\n          <div className=\"w-80 bg-slate-800 border-r border-divine-500/30 p-6 flex flex-col\">\r\n            {/* Voice Status */}\r\n            <div className=\"mb-6\">\r\n              <h3 className=\"text-lg font-semibold text-divine-100 mb-4\">Voice Status</h3>\r\n              \r\n              <div className={`flex items-center space-x-3 p-4 rounded-lg mb-4 ${\r\n                isListening ? 'bg-green-600/20 border border-green-500/30' : 'bg-slate-700/50'\r\n              }`}>\r\n                {isListening ? (\r\n                  <Loader className=\"text-green-400 animate-spin\" size={24} />\r\n                ) : (\r\n                  <MicOff className=\"text-slate-400\" size={24} />\r\n                )}\r\n                <div>\r\n                  <div className={`font-medium ${isListening ? 'text-green-100' : 'text-slate-300'}`}>\r\n                    {isListening ? 'Listening...' : 'Ready'}\r\n                  </div>\r\n                  {statusMessage && (\r\n                    <div className=\"text-sm text-divine-300\">{statusMessage}</div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {error && (\r\n                <div className=\"bg-red-600/20 border border-red-500/30 rounded-lg p-3 mb-4\">\r\n                  <div className=\"text-red-400 text-sm\">{error}</div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Push-to-Talk Indicator */}\r\n              {isPushToTalkActive && (\r\n                <div className=\"bg-divine-600/20 border border-divine-500/30 rounded-lg p-3 mb-4\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <div className=\"w-3 h-3 bg-divine-400 rounded-full animate-pulse\"></div>\r\n                    <span className=\"text-divine-200 text-sm\">Push-to-talk active</span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Controls */}\r\n            <div className=\"mb-6\">\r\n              <h3 className=\"text-lg font-semibold text-divine-100 mb-4\">Controls</h3>\r\n              \r\n              <div className=\"space-y-3\">\r\n                <button\r\n                  onClick={toggleListening}\r\n                  className={`w-full flex items-center justify-center space-x-2 px-4 py-3 rounded-lg font-medium transition-colors ${\r\n                    isListening\r\n                      ? 'bg-red-600 hover:bg-red-700 text-white'\r\n                      : 'bg-divine-600 hover:bg-divine-700 text-white'\r\n                  }`}\r\n                >\r\n                  {isListening ? <MicOff size={20} /> : <Mic size={20} />}\r\n                  <span>{isListening ? 'Stop Listening' : 'Start Listening'}</span>\r\n                </button>\r\n                \r\n                <div className=\"text-center text-sm text-divine-300\">\r\n                  or hold <kbd className=\"px-2 py-1 bg-slate-700 rounded\">SPACE</kbd> to push-to-talk\r\n                </div>\r\n                \r\n                <button\r\n                  onClick={clearHistory}\r\n                  className=\"w-full px-4 py-2 bg-slate-700 hover:bg-slate-600 text-divine-100 rounded-lg transition-colors\"\r\n                >\r\n                  Clear History\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Last Command */}\r\n            {lastCommand && (\r\n              <div className=\"mb-6\">\r\n                <h3 className=\"text-lg font-semibold text-divine-100 mb-4\">Last Command</h3>\r\n                \r\n                <div className=\"bg-divine-600/20 border border-divine-500/30 rounded-lg p-4\">\r\n                  <div className=\"flex items-center space-x-2 mb-2\">\r\n                    {getCommandIcon(lastCommand.action)}\r\n                    <span className=\"font-medium text-divine-100 capitalize\">\r\n                      {lastCommand.action}\r\n                    </span>\r\n                    <span className={`text-sm ${getConfidenceColor(lastCommand.confidence)}`}>\r\n                      {(lastCommand.confidence * 100).toFixed(0)}%\r\n                    </span>\r\n                  </div>\r\n                  {lastCommand.godId && (\r\n                    <div className=\"text-sm text-divine-300\">\r\n                      Target: {GODS.find(g => g.id === lastCommand.godId)?.name || lastCommand.godId}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Voice Commands Help */}\r\n            <div className=\"mt-auto\">\r\n              <h3 className=\"text-lg font-semibold text-divine-100 mb-4\">Voice Commands</h3>\r\n              \r\n              <div className=\"space-y-2 text-sm\">\r\n                <div className=\"text-divine-200\">\r\n                  <strong>Summon:</strong> \"Summon [God Name]\"\r\n                </div>\r\n                <div className=\"text-divine-200\">\r\n                  <strong>Ritual:</strong> \"Start ritual\"\r\n                </div>\r\n                <div className=\"text-divine-200\">\r\n                  <strong>Council:</strong> \"Convene council\"\r\n                </div>\r\n                <div className=\"text-divine-200\">\r\n                  <strong>Question:</strong> \"I have a question\"\r\n                </div>\r\n                <div className=\"text-divine-200\">\r\n                  <strong>Dismiss:</strong> \"Farewell\"\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Right Panel - Transcript */}\r\n          <div className=\"flex-1 flex flex-col\">\r\n            <div className=\"p-4 border-b border-divine-500/30\">\r\n              <h3 className=\"text-lg font-semibold text-divine-100\">Voice Transcript</h3>\r\n            </div>\r\n            \r\n            <div \r\n              ref={transcriptRef}\r\n              className=\"flex-1 overflow-y-auto p-4 space-y-4\"\r\n            >\r\n              {/* Current/Interim Transcript */}\r\n              {(currentTranscript || interimTranscript) && (\r\n                <div className=\"bg-divine-600/20 border border-divine-500/30 rounded-lg p-4\">\r\n                  <div className=\"flex items-center space-x-2 mb-2\">\r\n                    <Mic className=\"text-divine-400\" size={16} />\r\n                    <span className=\"text-sm text-divine-300\">Current</span>\r\n                  </div>\r\n                  <div className=\"text-divine-100\">\r\n                    {currentTranscript}\r\n                    {interimTranscript && (\r\n                      <span className=\"text-divine-400 italic\"> {interimTranscript}</span>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Recognition History */}\r\n              {recognitionHistory.map((result, index) => (\r\n                <div key={index} className=\"bg-slate-800 border border-slate-600 rounded-lg p-4\">\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <CheckCircle className=\"text-green-400\" size={16} />\r\n                      <span className=\"text-sm text-slate-300\">\r\n                        {result.timestamp.toLocaleTimeString()}\r\n                      </span>\r\n                    </div>\r\n                    <span className={`text-sm ${getConfidenceColor(result.confidence)}`}>\r\n                      {(result.confidence * 100).toFixed(0)}%\r\n                    </span>\r\n                  </div>\r\n                  \r\n                  <div className=\"text-slate-100 mb-2\">{result.transcript}</div>\r\n                  \r\n                  {result.command && (\r\n                    <div className=\"flex items-center space-x-2 mt-3 pt-3 border-t border-slate-600\">\r\n                      {getCommandIcon(result.command.action)}\r\n                      <span className=\"text-sm text-divine-300 capitalize\">\r\n                        {result.command.action}\r\n                      </span>\r\n                      {result.command.godId && (\r\n                        <span className=\"text-sm text-divine-400\">\r\n                          → {GODS.find(g => g.id === result.command!.godId)?.name}\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n              \r\n              {recognitionHistory.length === 0 && !currentTranscript && (\r\n                <div className=\"text-center py-12\">\r\n                  <Sparkles className=\"text-slate-500 mx-auto mb-4\" size={48} />\r\n                  <p className=\"text-slate-400\">\r\n                    Speak your divine commands and they will appear here\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Settings Panel */}\r\n        {showSettings && (\r\n          <div className=\"absolute inset-0 bg-black/50 flex items-center justify-center z-10\">\r\n            <div className=\"bg-slate-800 border border-divine-500/30 rounded-lg p-6 max-w-md w-full mx-4\">\r\n              <h3 className=\"text-xl font-bold text-divine-100 mb-4\">Voice Settings</h3>\r\n              \r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-divine-300 mb-2\">\r\n                    Language\r\n                  </label>\r\n                  <select\r\n                    value={settings.language}\r\n                    onChange={(e) => updateSettings({ language: e.target.value })}\r\n                    className=\"w-full bg-slate-700 border border-divine-500/30 rounded-lg px-3 py-2 text-divine-100\"\r\n                  >\r\n                    <option value=\"en-US\">English (US)</option>\r\n                    <option value=\"en-GB\">English (UK)</option>\r\n                    <option value=\"es-ES\">Spanish</option>\r\n                    <option value=\"fr-FR\">French</option>\r\n                    <option value=\"de-DE\">German</option>\r\n                    <option value=\"it-IT\">Italian</option>\r\n                    <option value=\"ja-JP\">Japanese</option>\r\n                    <option value=\"ko-KR\">Korean</option>\r\n                  </select>\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-divine-300 mb-2\">\r\n                    Confidence Threshold: {(settings.threshold * 100).toFixed(0)}%\r\n                  </label>\r\n                  <input\r\n                    type=\"range\"\r\n                    min=\"0.3\"\r\n                    max=\"0.9\"\r\n                    step=\"0.1\"\r\n                    value={settings.threshold}\r\n                    onChange={(e) => updateSettings({ threshold: parseFloat(e.target.value) })}\r\n                    className=\"w-full\"\r\n                  />\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"flex items-center space-x-2 text-divine-300\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={settings.continuous}\r\n                      onChange={(e) => updateSettings({ continuous: e.target.checked })}\r\n                      className=\"rounded\"\r\n                    />\r\n                    <span>Continuous Listening</span>\r\n                  </label>\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"flex items-center space-x-2 text-divine-300\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={settings.interimResults}\r\n                      onChange={(e) => updateSettings({ interimResults: e.target.checked })}\r\n                      className=\"rounded\"\r\n                    />\r\n                    <span>Show Interim Results</span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"flex space-x-2 mt-6\">\r\n                <button\r\n                  onClick={() => setShowSettings(false)}\r\n                  className=\"flex-1 bg-slate-700 hover:bg-slate-600 text-divine-100 py-2 px-4 rounded-lg transition-colors\"\r\n                >\r\n                  Close\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VoiceSummoning;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}