{"ast":null,"code":"import _objectSpread from\"D:/AI-Gods/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef,useCallback}from'react';import{Mic,MicOff,Settings,X,Zap,Crown,Flame,MessageSquare,Target,Sparkles,AlertCircle,CheckCircle,Loader}from'lucide-react';import{GODS}from'../data/gods';import voiceRecognitionService from'../services/voiceRecognition';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VoiceSummoning=_ref=>{var _GODS$find;let{onClose,onGodSummon,onRitualStart,onCouncilStart}=_ref;const[isListening,setIsListening]=useState(false);const[isPushToTalkActive,setIsPushToTalkActive]=useState(false);const[currentTranscript,setCurrentTranscript]=useState('');const[interimTranscript,setInterimTranscript]=useState('');const[lastCommand,setLastCommand]=useState(null);const[recognitionHistory,setRecognitionHistory]=useState([]);const[isSupported,setIsSupported]=useState(false);const[hasPermission,setHasPermission]=useState(false);const[showSettings,setShowSettings]=useState(false);const[settings,setSettings]=useState({language:'en-US',continuous:false,interimResults:true,maxAlternatives:3,threshold:0.6});const[statusMessage,setStatusMessage]=useState('');const[error,setError]=useState(null);const transcriptRef=useRef(null);useEffect(()=>{// Check if voice recognition is supported\nsetIsSupported(voiceRecognitionService.isSupported());// Request microphone permission\nvoiceRecognitionService.requestMicrophonePermission().then(setHasPermission);// Set up event listeners\nvoiceRecognitionService.on('start',()=>{setIsListening(true);setStatusMessage('ðŸŽ¤ Listening...');setError(null);});voiceRecognitionService.on('end',()=>{setIsListening(false);setStatusMessage('');setInterimTranscript('');});voiceRecognitionService.on('error',errorMsg=>{setError(\"Voice recognition error: \".concat(errorMsg));setIsListening(false);setStatusMessage('');});voiceRecognitionService.on('result',result=>{setCurrentTranscript(result.transcript);setRecognitionHistory(prev=>[result,...prev.slice(0,9)]);// Keep last 10\nif(result.command){setLastCommand(result.command);handleVoiceCommand(result.command);}});voiceRecognitionService.on('interim',data=>{setInterimTranscript(data.transcript);});voiceRecognitionService.on('pushToTalkStart',()=>{setIsPushToTalkActive(true);setStatusMessage('ðŸŽ¤ Push-to-talk active (release SPACE to stop)');});voiceRecognitionService.on('pushToTalkStop',()=>{setIsPushToTalkActive(false);});// Auto-scroll transcript\nreturn()=>{voiceRecognitionService.destroy();};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);useEffect(()=>{if(transcriptRef.current){transcriptRef.current.scrollTop=transcriptRef.current.scrollHeight;}},[recognitionHistory,interimTranscript]);const handleVoiceCommand=useCallback(command=>{console.log('ðŸŽ¯ Executing voice command:',command);switch(command.action){case'summon':if(command.godId&&onGodSummon){const god=GODS.find(g=>g.id===command.godId);if(god){onGodSummon(god);setStatusMessage(\"\\u2728 Summoning \".concat(god.name,\"...\"));}}break;case'ritual':if(onRitualStart){onRitualStart(command.godId);setStatusMessage('ðŸ”¥ Starting ritual...');}break;case'council':if(onCouncilStart){onCouncilStart();setStatusMessage('ðŸ‘‘ Convening pantheon council...');}break;case'question':setStatusMessage('â“ Processing your question...');break;case'dismiss':setStatusMessage('ðŸ‘‹ Farewell...');setTimeout(()=>onClose(),1000);break;default:setStatusMessage(\"\\uD83C\\uDFAF Command recognized: \".concat(command.action));}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[onGodSummon,onRitualStart,onCouncilStart]);const toggleListening=()=>{if(isListening){voiceRecognitionService.stopListening();}else{voiceRecognitionService.startListening();}};const updateSettings=newSettings=>{const updated=_objectSpread(_objectSpread({},settings),newSettings);setSettings(updated);voiceRecognitionService.updateSettings(updated);};const clearHistory=()=>{setRecognitionHistory([]);setCurrentTranscript('');setInterimTranscript('');setLastCommand(null);};const getCommandIcon=action=>{switch(action){case'summon':return/*#__PURE__*/_jsx(Zap,{className:\"text-divine-400\",size:16});case'ritual':return/*#__PURE__*/_jsx(Flame,{className:\"text-red-400\",size:16});case'council':return/*#__PURE__*/_jsx(Crown,{className:\"text-yellow-400\",size:16});case'question':return/*#__PURE__*/_jsx(MessageSquare,{className:\"text-blue-400\",size:16});case'dismiss':return/*#__PURE__*/_jsx(X,{className:\"text-gray-400\",size:16});default:return/*#__PURE__*/_jsx(Target,{className:\"text-divine-400\",size:16});}};const getConfidenceColor=confidence=>{if(confidence>=0.8)return'text-green-400';if(confidence>=0.6)return'text-yellow-400';return'text-red-400';};if(!isSupported){return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-900 border border-red-500/30 rounded-xl p-8 max-w-md text-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"text-red-400 mx-auto mb-4\",size:48}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-red-100 mb-4\",children:\"Voice Recognition Not Supported\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-300 mb-6\",children:\"Your browser doesn't support the Web Speech API. Please use Chrome, Edge, or Safari for voice summoning.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors\",children:\"Close\"})]})});}if(!hasPermission){return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-900 border border-yellow-500/30 rounded-xl p-8 max-w-md text-center\",children:[/*#__PURE__*/_jsx(Mic,{className:\"text-yellow-400 mx-auto mb-4\",size:48}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-yellow-100 mb-4\",children:\"Microphone Permission Required\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-yellow-300 mb-6\",children:\"Voice summoning requires microphone access to hear your divine commands.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>voiceRecognitionService.requestMicrophonePermission().then(setHasPermission),className:\"w-full px-6 py-3 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg transition-colors\",children:\"Grant Permission\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"w-full px-6 py-3 bg-slate-700 hover:bg-slate-600 text-divine-100 rounded-lg transition-colors\",children:\"Cancel\"})]})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-900 border border-divine-500/30 rounded-xl w-full max-w-4xl h-full max-h-[85vh] flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-6 border-b border-divine-500/30\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(Mic,{className:\"text-2xl text-divine-400\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-divine-100\",children:\"Voice Summoning\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-divine-300\",children:\"Hold SPACE or click to speak divine commands\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSettings(!showSettings),className:\"p-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-divine-100 transition-colors\",title:\"Voice Settings\",children:/*#__PURE__*/_jsx(Settings,{size:20})}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"p-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-divine-100 transition-colors\",children:/*#__PURE__*/_jsx(X,{size:20})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-80 bg-slate-800 border-r border-divine-500/30 p-6 flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-divine-100 mb-4\",children:\"Voice Status\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 p-4 rounded-lg mb-4 \".concat(isListening?'bg-green-600/20 border border-green-500/30':'bg-slate-700/50'),children:[isListening?/*#__PURE__*/_jsx(Loader,{className:\"text-green-400 animate-spin\",size:24}):/*#__PURE__*/_jsx(MicOff,{className:\"text-slate-400\",size:24}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium \".concat(isListening?'text-green-100':'text-slate-300'),children:isListening?'Listening...':'Ready'}),statusMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-divine-300\",children:statusMessage})]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-600/20 border border-red-500/30 rounded-lg p-3 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-red-400 text-sm\",children:error})}),isPushToTalkActive&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-divine-600/20 border border-divine-500/30 rounded-lg p-3 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-divine-400 rounded-full animate-pulse\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-divine-200 text-sm\",children:\"Push-to-talk active\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-divine-100 mb-4\",children:\"Controls\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:toggleListening,className:\"w-full flex items-center justify-center space-x-2 px-4 py-3 rounded-lg font-medium transition-colors \".concat(isListening?'bg-red-600 hover:bg-red-700 text-white':'bg-divine-600 hover:bg-divine-700 text-white'),children:[isListening?/*#__PURE__*/_jsx(MicOff,{size:20}):/*#__PURE__*/_jsx(Mic,{size:20}),/*#__PURE__*/_jsx(\"span\",{children:isListening?'Stop Listening':'Start Listening'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-sm text-divine-300\",children:[\"or hold \",/*#__PURE__*/_jsx(\"kbd\",{className:\"px-2 py-1 bg-slate-700 rounded\",children:\"SPACE\"}),\" to push-to-talk\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:clearHistory,className:\"w-full px-4 py-2 bg-slate-700 hover:bg-slate-600 text-divine-100 rounded-lg transition-colors\",children:\"Clear History\"})]})]}),lastCommand&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-divine-100 mb-4\",children:\"Last Command\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-divine-600/20 border border-divine-500/30 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-2\",children:[getCommandIcon(lastCommand.action),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-divine-100 capitalize\",children:lastCommand.action}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm \".concat(getConfidenceColor(lastCommand.confidence)),children:[(lastCommand.confidence*100).toFixed(0),\"%\"]})]}),lastCommand.godId&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-divine-300\",children:[\"Target: \",((_GODS$find=GODS.find(g=>g.id===lastCommand.godId))===null||_GODS$find===void 0?void 0:_GODS$find.name)||lastCommand.godId]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-auto\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-divine-100 mb-4\",children:\"Voice Commands\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-divine-200\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Summon:\"}),\" \\\"Summon [God Name]\\\"\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-divine-200\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ritual:\"}),\" \\\"Start ritual\\\"\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-divine-200\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Council:\"}),\" \\\"Convene council\\\"\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-divine-200\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Question:\"}),\" \\\"I have a question\\\"\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-divine-200\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Dismiss:\"}),\" \\\"Farewell\\\"\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b border-divine-500/30\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-divine-100\",children:\"Voice Transcript\"})}),/*#__PURE__*/_jsxs(\"div\",{ref:transcriptRef,className:\"flex-1 overflow-y-auto p-4 space-y-4\",children:[(currentTranscript||interimTranscript)&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-divine-600/20 border border-divine-500/30 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-2\",children:[/*#__PURE__*/_jsx(Mic,{className:\"text-divine-400\",size:16}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-divine-300\",children:\"Current\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-divine-100\",children:[currentTranscript,interimTranscript&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-divine-400 italic\",children:[\" \",interimTranscript]})]})]}),recognitionHistory.map((result,index)=>{var _GODS$find2;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-800 border border-slate-600 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"text-green-400\",size:16}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-slate-300\",children:result.timestamp.toLocaleTimeString()})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm \".concat(getConfidenceColor(result.confidence)),children:[(result.confidence*100).toFixed(0),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-slate-100 mb-2\",children:result.transcript}),result.command&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mt-3 pt-3 border-t border-slate-600\",children:[getCommandIcon(result.command.action),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-divine-300 capitalize\",children:result.command.action}),result.command.godId&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-divine-400\",children:[\"\\u2192 \",(_GODS$find2=GODS.find(g=>g.id===result.command.godId))===null||_GODS$find2===void 0?void 0:_GODS$find2.name]})]})]},index);}),recognitionHistory.length===0&&!currentTranscript&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Sparkles,{className:\"text-slate-500 mx-auto mb-4\",size:48}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400\",children:\"Speak your divine commands and they will appear here\"})]})]})]})]}),showSettings&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black/50 flex items-center justify-center z-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-800 border border-divine-500/30 rounded-lg p-6 max-w-md w-full mx-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-divine-100 mb-4\",children:\"Voice Settings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-divine-300 mb-2\",children:\"Language\"}),/*#__PURE__*/_jsxs(\"select\",{value:settings.language,onChange:e=>updateSettings({language:e.target.value}),className:\"w-full bg-slate-700 border border-divine-500/30 rounded-lg px-3 py-2 text-divine-100\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"en-US\",children:\"English (US)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"en-GB\",children:\"English (UK)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"es-ES\",children:\"Spanish\"}),/*#__PURE__*/_jsx(\"option\",{value:\"fr-FR\",children:\"French\"}),/*#__PURE__*/_jsx(\"option\",{value:\"de-DE\",children:\"German\"}),/*#__PURE__*/_jsx(\"option\",{value:\"it-IT\",children:\"Italian\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ja-JP\",children:\"Japanese\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ko-KR\",children:\"Korean\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-divine-300 mb-2\",children:[\"Confidence Threshold: \",(settings.threshold*100).toFixed(0),\"%\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"0.3\",max:\"0.9\",step:\"0.1\",value:settings.threshold,onChange:e=>updateSettings({threshold:parseFloat(e.target.value)}),className:\"w-full\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2 text-divine-300\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:settings.continuous,onChange:e=>updateSettings({continuous:e.target.checked}),className:\"rounded\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Continuous Listening\"})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2 text-divine-300\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:settings.interimResults,onChange:e=>updateSettings({interimResults:e.target.checked}),className:\"rounded\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Show Interim Results\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-2 mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSettings(false),className:\"flex-1 bg-slate-700 hover:bg-slate-600 text-divine-100 py-2 px-4 rounded-lg transition-colors\",children:\"Close\"})})]})})]})});};export default VoiceSummoning;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","Mic","MicOff","Settings","X","Zap","Crown","Flame","MessageSquare","Target","Sparkles","AlertCircle","CheckCircle","Loader","GODS","voiceRecognitionService","jsx","_jsx","jsxs","_jsxs","VoiceSummoning","_ref","_GODS$find","onClose","onGodSummon","onRitualStart","onCouncilStart","isListening","setIsListening","isPushToTalkActive","setIsPushToTalkActive","currentTranscript","setCurrentTranscript","interimTranscript","setInterimTranscript","lastCommand","setLastCommand","recognitionHistory","setRecognitionHistory","isSupported","setIsSupported","hasPermission","setHasPermission","showSettings","setShowSettings","settings","setSettings","language","continuous","interimResults","maxAlternatives","threshold","statusMessage","setStatusMessage","error","setError","transcriptRef","requestMicrophonePermission","then","on","errorMsg","concat","result","transcript","prev","slice","command","handleVoiceCommand","data","destroy","current","scrollTop","scrollHeight","console","log","action","godId","god","find","g","id","name","setTimeout","toggleListening","stopListening","startListening","updateSettings","newSettings","updated","_objectSpread","clearHistory","getCommandIcon","className","size","getConfidenceColor","confidence","children","onClick","title","toFixed","ref","map","index","_GODS$find2","timestamp","toLocaleTimeString","length","value","onChange","e","target","type","min","max","step","parseFloat","checked"],"sources":["D:/AI-Gods/src/components/VoiceSummoning.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport {\r\n    Mic,\r\n    MicOff,\r\n    Settings,\r\n    X,\r\n    Zap,\r\n    Crown,\r\n    Flame,\r\n    MessageSquare,\r\n    Target,\r\n    Sparkles,\r\n    AlertCircle,\r\n    CheckCircle,\r\n    Loader\r\n} from 'lucide-react';\r\nimport { God } from '../types/gods';\r\nimport { GODS } from '../data/gods';\r\nimport voiceRecognitionService, {\r\n    VoiceRecognitionResult,\r\n    VoiceCommand,\r\n    VoiceSettings\r\n} from '../services/voiceRecognition';\r\n\r\ninterface VoiceSummoningProps {\r\n    onClose: () => void;\r\n    onGodSummon?: (god: God) => void;\r\n    onRitualStart?: (godId?: string) => void;\r\n    onCouncilStart?: () => void;\r\n}\r\n\r\nconst VoiceSummoning: React.FC<VoiceSummoningProps> = ({\r\n    onClose,\r\n    onGodSummon,\r\n    onRitualStart,\r\n    onCouncilStart\r\n}) => {\r\n    const [isListening, setIsListening] = useState(false);\r\n    const [isPushToTalkActive, setIsPushToTalkActive] = useState(false);\r\n    const [currentTranscript, setCurrentTranscript] = useState('');\r\n    const [interimTranscript, setInterimTranscript] = useState('');\r\n    const [lastCommand, setLastCommand] = useState<VoiceCommand | null>(null);\r\n    const [recognitionHistory, setRecognitionHistory] = useState<VoiceRecognitionResult[]>([]);\r\n    const [isSupported, setIsSupported] = useState(false);\r\n    const [hasPermission, setHasPermission] = useState(false);\r\n    const [showSettings, setShowSettings] = useState(false);\r\n    const [settings, setSettings] = useState<VoiceSettings>({\r\n        language: 'en-US',\r\n        continuous: false,\r\n        interimResults: true,\r\n        maxAlternatives: 3,\r\n        threshold: 0.6\r\n    });\r\n    const [statusMessage, setStatusMessage] = useState('');\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    const transcriptRef = useRef<HTMLDivElement>(null);\r\n\r\n    useEffect(() => {\r\n        // Check if voice recognition is supported\r\n        setIsSupported(voiceRecognitionService.isSupported());\r\n\r\n        // Request microphone permission\r\n        voiceRecognitionService.requestMicrophonePermission()\r\n            .then(setHasPermission);\r\n\r\n        // Set up event listeners\r\n        voiceRecognitionService.on('start', () => {\r\n            setIsListening(true);\r\n            setStatusMessage('ðŸŽ¤ Listening...');\r\n            setError(null);\r\n        });\r\n\r\n        voiceRecognitionService.on('end', () => {\r\n            setIsListening(false);\r\n            setStatusMessage('');\r\n            setInterimTranscript('');\r\n        });\r\n\r\n        voiceRecognitionService.on('error', (errorMsg: string) => {\r\n            setError(`Voice recognition error: ${errorMsg}`);\r\n            setIsListening(false);\r\n            setStatusMessage('');\r\n        });\r\n\r\n        voiceRecognitionService.on('result', (result: VoiceRecognitionResult) => {\r\n            setCurrentTranscript(result.transcript);\r\n            setRecognitionHistory(prev => [result, ...prev.slice(0, 9)]); // Keep last 10\r\n\r\n            if (result.command) {\r\n                setLastCommand(result.command);\r\n                handleVoiceCommand(result.command);\r\n            }\r\n        });\r\n\r\n        voiceRecognitionService.on('interim', (data: { transcript: string }) => {\r\n            setInterimTranscript(data.transcript);\r\n        });\r\n\r\n        voiceRecognitionService.on('pushToTalkStart', () => {\r\n            setIsPushToTalkActive(true);\r\n            setStatusMessage('ðŸŽ¤ Push-to-talk active (release SPACE to stop)');\r\n        });\r\n\r\n        voiceRecognitionService.on('pushToTalkStop', () => {\r\n            setIsPushToTalkActive(false);\r\n        });\r\n\r\n        // Auto-scroll transcript\r\n        return () => {\r\n            voiceRecognitionService.destroy();\r\n        };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (transcriptRef.current) {\r\n            transcriptRef.current.scrollTop = transcriptRef.current.scrollHeight;\r\n        }\r\n    }, [recognitionHistory, interimTranscript]);\r\n\r\n    const handleVoiceCommand = useCallback((command: VoiceCommand) => {\r\n        console.log('ðŸŽ¯ Executing voice command:', command);\r\n\r\n        switch (command.action) {\r\n            case 'summon':\r\n                if (command.godId && onGodSummon) {\r\n                    const god = GODS.find(g => g.id === command.godId);\r\n                    if (god) {\r\n                        onGodSummon(god);\r\n                        setStatusMessage(`âœ¨ Summoning ${god.name}...`);\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case 'ritual':\r\n                if (onRitualStart) {\r\n                    onRitualStart(command.godId);\r\n                    setStatusMessage('ðŸ”¥ Starting ritual...');\r\n                }\r\n                break;\r\n\r\n            case 'council':\r\n                if (onCouncilStart) {\r\n                    onCouncilStart();\r\n                    setStatusMessage('ðŸ‘‘ Convening pantheon council...');\r\n                }\r\n                break;\r\n\r\n            case 'question':\r\n                setStatusMessage('â“ Processing your question...');\r\n                break;\r\n\r\n            case 'dismiss':\r\n                setStatusMessage('ðŸ‘‹ Farewell...');\r\n                setTimeout(() => onClose(), 1000);\r\n                break;\r\n\r\n            default:\r\n                setStatusMessage(`ðŸŽ¯ Command recognized: ${command.action}`);\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [onGodSummon, onRitualStart, onCouncilStart]);\r\n\r\n    const toggleListening = () => {\r\n        if (isListening) {\r\n            voiceRecognitionService.stopListening();\r\n        } else {\r\n            voiceRecognitionService.startListening();\r\n        }\r\n    };\r\n\r\n    const updateSettings = (newSettings: Partial<VoiceSettings>) => {\r\n        const updated = { ...settings, ...newSettings };\r\n        setSettings(updated);\r\n        voiceRecognitionService.updateSettings(updated);\r\n    };\r\n\r\n    const clearHistory = () => {\r\n        setRecognitionHistory([]);\r\n        setCurrentTranscript('');\r\n        setInterimTranscript('');\r\n        setLastCommand(null);\r\n    };\r\n\r\n    const getCommandIcon = (action: string) => {\r\n        switch (action) {\r\n            case 'summon': return <Zap className=\"text-divine-400\" size={16} />;\r\n            case 'ritual': return <Flame className=\"text-red-400\" size={16} />;\r\n            case 'council': return <Crown className=\"text-yellow-400\" size={16} />;\r\n            case 'question': return <MessageSquare className=\"text-blue-400\" size={16} />;\r\n            case 'dismiss': return <X className=\"text-gray-400\" size={16} />;\r\n            default: return <Target className=\"text-divine-400\" size={16} />;\r\n        }\r\n    };\r\n\r\n    const getConfidenceColor = (confidence: number) => {\r\n        if (confidence >= 0.8) return 'text-green-400';\r\n        if (confidence >= 0.6) return 'text-yellow-400';\r\n        return 'text-red-400';\r\n    };\r\n\r\n    if (!isSupported) {\r\n        return (\r\n            <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\r\n                <div className=\"bg-slate-900 border border-red-500/30 rounded-xl p-8 max-w-md text-center\">\r\n                    <AlertCircle className=\"text-red-400 mx-auto mb-4\" size={48} />\r\n                    <h2 className=\"text-2xl font-bold text-red-100 mb-4\">Voice Recognition Not Supported</h2>\r\n                    <p className=\"text-red-300 mb-6\">\r\n                        Your browser doesn't support the Web Speech API. Please use Chrome, Edge, or Safari for voice summoning.\r\n                    </p>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors\"\r\n                    >\r\n                        Close\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!hasPermission) {\r\n        return (\r\n            <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\r\n                <div className=\"bg-slate-900 border border-yellow-500/30 rounded-xl p-8 max-w-md text-center\">\r\n                    <Mic className=\"text-yellow-400 mx-auto mb-4\" size={48} />\r\n                    <h2 className=\"text-2xl font-bold text-yellow-100 mb-4\">Microphone Permission Required</h2>\r\n                    <p className=\"text-yellow-300 mb-6\">\r\n                        Voice summoning requires microphone access to hear your divine commands.\r\n                    </p>\r\n                    <div className=\"space-y-3\">\r\n                        <button\r\n                            onClick={() => voiceRecognitionService.requestMicrophonePermission().then(setHasPermission)}\r\n                            className=\"w-full px-6 py-3 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg transition-colors\"\r\n                        >\r\n                            Grant Permission\r\n                        </button>\r\n                        <button\r\n                            onClick={onClose}\r\n                            className=\"w-full px-6 py-3 bg-slate-700 hover:bg-slate-600 text-divine-100 rounded-lg transition-colors\"\r\n                        >\r\n                            Cancel\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\r\n            <div className=\"bg-slate-900 border border-divine-500/30 rounded-xl w-full max-w-4xl h-full max-h-[85vh] flex flex-col\">\r\n                {/* Header */}\r\n                <div className=\"flex items-center justify-between p-6 border-b border-divine-500/30\">\r\n                    <div className=\"flex items-center space-x-3\">\r\n                        <Mic className=\"text-2xl text-divine-400\" />\r\n                        <div>\r\n                            <h1 className=\"text-2xl font-bold text-divine-100\">Voice Summoning</h1>\r\n                            <p className=\"text-divine-300\">\r\n                                Hold SPACE or click to speak divine commands\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center space-x-2\">\r\n                        <button\r\n                            onClick={() => setShowSettings(!showSettings)}\r\n                            className=\"p-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-divine-100 transition-colors\"\r\n                            title=\"Voice Settings\"\r\n                        >\r\n                            <Settings size={20} />\r\n                        </button>\r\n\r\n                        <button\r\n                            onClick={onClose}\r\n                            className=\"p-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-divine-100 transition-colors\"\r\n                        >\r\n                            <X size={20} />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Main Content */}\r\n                <div className=\"flex-1 flex overflow-hidden\">\r\n                    {/* Left Panel - Controls */}\r\n                    <div className=\"w-80 bg-slate-800 border-r border-divine-500/30 p-6 flex flex-col\">\r\n                        {/* Voice Status */}\r\n                        <div className=\"mb-6\">\r\n                            <h3 className=\"text-lg font-semibold text-divine-100 mb-4\">Voice Status</h3>\r\n\r\n                            <div className={`flex items-center space-x-3 p-4 rounded-lg mb-4 ${isListening ? 'bg-green-600/20 border border-green-500/30' : 'bg-slate-700/50'\r\n                                }`}>\r\n                                {isListening ? (\r\n                                    <Loader className=\"text-green-400 animate-spin\" size={24} />\r\n                                ) : (\r\n                                    <MicOff className=\"text-slate-400\" size={24} />\r\n                                )}\r\n                                <div>\r\n                                    <div className={`font-medium ${isListening ? 'text-green-100' : 'text-slate-300'}`}>\r\n                                        {isListening ? 'Listening...' : 'Ready'}\r\n                                    </div>\r\n                                    {statusMessage && (\r\n                                        <div className=\"text-sm text-divine-300\">{statusMessage}</div>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n\r\n                            {error && (\r\n                                <div className=\"bg-red-600/20 border border-red-500/30 rounded-lg p-3 mb-4\">\r\n                                    <div className=\"text-red-400 text-sm\">{error}</div>\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Push-to-Talk Indicator */}\r\n                            {isPushToTalkActive && (\r\n                                <div className=\"bg-divine-600/20 border border-divine-500/30 rounded-lg p-3 mb-4\">\r\n                                    <div className=\"flex items-center space-x-2\">\r\n                                        <div className=\"w-3 h-3 bg-divine-400 rounded-full animate-pulse\"></div>\r\n                                        <span className=\"text-divine-200 text-sm\">Push-to-talk active</span>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Controls */}\r\n                        <div className=\"mb-6\">\r\n                            <h3 className=\"text-lg font-semibold text-divine-100 mb-4\">Controls</h3>\r\n\r\n                            <div className=\"space-y-3\">\r\n                                <button\r\n                                    onClick={toggleListening}\r\n                                    className={`w-full flex items-center justify-center space-x-2 px-4 py-3 rounded-lg font-medium transition-colors ${isListening\r\n                                            ? 'bg-red-600 hover:bg-red-700 text-white'\r\n                                            : 'bg-divine-600 hover:bg-divine-700 text-white'\r\n                                        }`}\r\n                                >\r\n                                    {isListening ? <MicOff size={20} /> : <Mic size={20} />}\r\n                                    <span>{isListening ? 'Stop Listening' : 'Start Listening'}</span>\r\n                                </button>\r\n\r\n                                <div className=\"text-center text-sm text-divine-300\">\r\n                                    or hold <kbd className=\"px-2 py-1 bg-slate-700 rounded\">SPACE</kbd> to push-to-talk\r\n                                </div>\r\n\r\n                                <button\r\n                                    onClick={clearHistory}\r\n                                    className=\"w-full px-4 py-2 bg-slate-700 hover:bg-slate-600 text-divine-100 rounded-lg transition-colors\"\r\n                                >\r\n                                    Clear History\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Last Command */}\r\n                        {lastCommand && (\r\n                            <div className=\"mb-6\">\r\n                                <h3 className=\"text-lg font-semibold text-divine-100 mb-4\">Last Command</h3>\r\n\r\n                                <div className=\"bg-divine-600/20 border border-divine-500/30 rounded-lg p-4\">\r\n                                    <div className=\"flex items-center space-x-2 mb-2\">\r\n                                        {getCommandIcon(lastCommand.action)}\r\n                                        <span className=\"font-medium text-divine-100 capitalize\">\r\n                                            {lastCommand.action}\r\n                                        </span>\r\n                                        <span className={`text-sm ${getConfidenceColor(lastCommand.confidence)}`}>\r\n                                            {(lastCommand.confidence * 100).toFixed(0)}%\r\n                                        </span>\r\n                                    </div>\r\n                                    {lastCommand.godId && (\r\n                                        <div className=\"text-sm text-divine-300\">\r\n                                            Target: {GODS.find(g => g.id === lastCommand.godId)?.name || lastCommand.godId}\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Voice Commands Help */}\r\n                        <div className=\"mt-auto\">\r\n                            <h3 className=\"text-lg font-semibold text-divine-100 mb-4\">Voice Commands</h3>\r\n\r\n                            <div className=\"space-y-2 text-sm\">\r\n                                <div className=\"text-divine-200\">\r\n                                    <strong>Summon:</strong> \"Summon [God Name]\"\r\n                                </div>\r\n                                <div className=\"text-divine-200\">\r\n                                    <strong>Ritual:</strong> \"Start ritual\"\r\n                                </div>\r\n                                <div className=\"text-divine-200\">\r\n                                    <strong>Council:</strong> \"Convene council\"\r\n                                </div>\r\n                                <div className=\"text-divine-200\">\r\n                                    <strong>Question:</strong> \"I have a question\"\r\n                                </div>\r\n                                <div className=\"text-divine-200\">\r\n                                    <strong>Dismiss:</strong> \"Farewell\"\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Right Panel - Transcript */}\r\n                    <div className=\"flex-1 flex flex-col\">\r\n                        <div className=\"p-4 border-b border-divine-500/30\">\r\n                            <h3 className=\"text-lg font-semibold text-divine-100\">Voice Transcript</h3>\r\n                        </div>\r\n\r\n                        <div\r\n                            ref={transcriptRef}\r\n                            className=\"flex-1 overflow-y-auto p-4 space-y-4\"\r\n                        >\r\n                            {/* Current/Interim Transcript */}\r\n                            {(currentTranscript || interimTranscript) && (\r\n                                <div className=\"bg-divine-600/20 border border-divine-500/30 rounded-lg p-4\">\r\n                                    <div className=\"flex items-center space-x-2 mb-2\">\r\n                                        <Mic className=\"text-divine-400\" size={16} />\r\n                                        <span className=\"text-sm text-divine-300\">Current</span>\r\n                                    </div>\r\n                                    <div className=\"text-divine-100\">\r\n                                        {currentTranscript}\r\n                                        {interimTranscript && (\r\n                                            <span className=\"text-divine-400 italic\"> {interimTranscript}</span>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Recognition History */}\r\n                            {recognitionHistory.map((result, index) => (\r\n                                <div key={index} className=\"bg-slate-800 border border-slate-600 rounded-lg p-4\">\r\n                                    <div className=\"flex items-center justify-between mb-2\">\r\n                                        <div className=\"flex items-center space-x-2\">\r\n                                            <CheckCircle className=\"text-green-400\" size={16} />\r\n                                            <span className=\"text-sm text-slate-300\">\r\n                                                {result.timestamp.toLocaleTimeString()}\r\n                                            </span>\r\n                                        </div>\r\n                                        <span className={`text-sm ${getConfidenceColor(result.confidence)}`}>\r\n                                            {(result.confidence * 100).toFixed(0)}%\r\n                                        </span>\r\n                                    </div>\r\n\r\n                                    <div className=\"text-slate-100 mb-2\">{result.transcript}</div>\r\n\r\n                                    {result.command && (\r\n                                        <div className=\"flex items-center space-x-2 mt-3 pt-3 border-t border-slate-600\">\r\n                                            {getCommandIcon(result.command.action)}\r\n                                            <span className=\"text-sm text-divine-300 capitalize\">\r\n                                                {result.command.action}\r\n                                            </span>\r\n                                            {result.command.godId && (\r\n                                                <span className=\"text-sm text-divine-400\">\r\n                                                    â†’ {GODS.find(g => g.id === result.command!.godId)?.name}\r\n                                                </span>\r\n                                            )}\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            ))}\r\n\r\n                            {recognitionHistory.length === 0 && !currentTranscript && (\r\n                                <div className=\"text-center py-12\">\r\n                                    <Sparkles className=\"text-slate-500 mx-auto mb-4\" size={48} />\r\n                                    <p className=\"text-slate-400\">\r\n                                        Speak your divine commands and they will appear here\r\n                                    </p>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Settings Panel */}\r\n                {showSettings && (\r\n                    <div className=\"absolute inset-0 bg-black/50 flex items-center justify-center z-10\">\r\n                        <div className=\"bg-slate-800 border border-divine-500/30 rounded-lg p-6 max-w-md w-full mx-4\">\r\n                            <h3 className=\"text-xl font-bold text-divine-100 mb-4\">Voice Settings</h3>\r\n\r\n                            <div className=\"space-y-4\">\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-divine-300 mb-2\">\r\n                                        Language\r\n                                    </label>\r\n                                    <select\r\n                                        value={settings.language}\r\n                                        onChange={(e) => updateSettings({ language: e.target.value })}\r\n                                        className=\"w-full bg-slate-700 border border-divine-500/30 rounded-lg px-3 py-2 text-divine-100\"\r\n                                    >\r\n                                        <option value=\"en-US\">English (US)</option>\r\n                                        <option value=\"en-GB\">English (UK)</option>\r\n                                        <option value=\"es-ES\">Spanish</option>\r\n                                        <option value=\"fr-FR\">French</option>\r\n                                        <option value=\"de-DE\">German</option>\r\n                                        <option value=\"it-IT\">Italian</option>\r\n                                        <option value=\"ja-JP\">Japanese</option>\r\n                                        <option value=\"ko-KR\">Korean</option>\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-divine-300 mb-2\">\r\n                                        Confidence Threshold: {(settings.threshold * 100).toFixed(0)}%\r\n                                    </label>\r\n                                    <input\r\n                                        type=\"range\"\r\n                                        min=\"0.3\"\r\n                                        max=\"0.9\"\r\n                                        step=\"0.1\"\r\n                                        value={settings.threshold}\r\n                                        onChange={(e) => updateSettings({ threshold: parseFloat(e.target.value) })}\r\n                                        className=\"w-full\"\r\n                                    />\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <label className=\"flex items-center space-x-2 text-divine-300\">\r\n                                        <input\r\n                                            type=\"checkbox\"\r\n                                            checked={settings.continuous}\r\n                                            onChange={(e) => updateSettings({ continuous: e.target.checked })}\r\n                                            className=\"rounded\"\r\n                                        />\r\n                                        <span>Continuous Listening</span>\r\n                                    </label>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <label className=\"flex items-center space-x-2 text-divine-300\">\r\n                                        <input\r\n                                            type=\"checkbox\"\r\n                                            checked={settings.interimResults}\r\n                                            onChange={(e) => updateSettings({ interimResults: e.target.checked })}\r\n                                            className=\"rounded\"\r\n                                        />\r\n                                        <span>Show Interim Results</span>\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"flex space-x-2 mt-6\">\r\n                                <button\r\n                                    onClick={() => setShowSettings(false)}\r\n                                    className=\"flex-1 bg-slate-700 hover:bg-slate-600 text-divine-100 py-2 px-4 rounded-lg transition-colors\"\r\n                                >\r\n                                    Close\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default VoiceSummoning;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}