{"ast":null,"code":"import _objectSpread from\"D:/AI-Gods/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// Type definitions for Speech Recognition API\nclass VoiceRecognitionService{constructor(){this.recognition=null;this.isListening=false;this.isPushToTalkActive=false;this.settings=void 0;this.callbacks=new Map();this.keyDownListener=null;this.keyUpListener=null;this.pushToTalkKey=' ';// Spacebar\n// Predefined voice commands for gods and rituals\nthis.commands=[// God summoning commands\n{id:'summon-aethon',trigger:['summon aethon','call aethon','invoke aethon','aethon appear'],godId:'aethon',action:'summon',confidence:0.7},{id:'summon-nyxara',trigger:['summon nyxara','call nyxara','invoke nyxara','nyxara appear'],godId:'nyxara',action:'summon',confidence:0.7},{id:'summon-zephyros',trigger:['summon zephyros','call zephyros','invoke zephyros','zephyros appear'],godId:'zephyros',action:'summon',confidence:0.7},{id:'summon-korvain',trigger:['summon korvain','call korvain','invoke korvain','korvain appear'],godId:'korvain',action:'summon',confidence:0.7},{id:'summon-xerion',trigger:['summon xerion','call xerion','invoke xerion','xerion appear'],godId:'xerion',action:'summon',confidence:0.7},// Ritual commands\n{id:'start-ritual',trigger:['start ritual','begin ritual','perform ritual','initiate ceremony'],action:'ritual',confidence:0.8},{id:'make-offering',trigger:['make offering','present offering','give offering','offer tribute'],action:'offering',confidence:0.8},// Council commands\n{id:'convene-council',trigger:['convene council','start council','begin council','gather pantheon'],action:'council',confidence:0.8},// Question commands\n{id:'ask-question',trigger:['i have a question','answer me','tell me','explain'],action:'question',confidence:0.6},// Dismissal commands\n{id:'dismiss-god',trigger:['dismiss','go away','leave me','farewell','until next time'],action:'dismiss',confidence:0.7}];this.settings={language:'en-US',continuous:false,interimResults:true,maxAlternatives:3,threshold:0.6};this.initializeRecognition();this.setupPushToTalk();}initializeRecognition(){if(!('webkitSpeechRecognition'in window)&&!('SpeechRecognition'in window)){console.error('❌ Speech recognition not supported in this browser');return;}// @ts-ignore\nconst SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;this.recognition=new SpeechRecognition();if(!this.recognition)return;this.recognition.continuous=this.settings.continuous;this.recognition.interimResults=this.settings.interimResults;this.recognition.lang=this.settings.language;this.recognition.maxAlternatives=this.settings.maxAlternatives;this.recognition.onstart=()=>{console.log('🎤 Voice recognition started');this.isListening=true;this.emit('start');};this.recognition.onend=()=>{console.log('🎤 Voice recognition ended');this.isListening=false;this.emit('end');};this.recognition.onerror=event=>{console.error('❌ Voice recognition error:',event.error);this.emit('error',event.error);};this.recognition.onresult=event=>{this.handleRecognitionResult(event);};}setupPushToTalk(){this.keyDownListener=e=>{if(e.code==='Space'&&!this.isPushToTalkActive&&!this.isInputFocused()){e.preventDefault();this.startPushToTalk();}};this.keyUpListener=e=>{if(e.code==='Space'&&this.isPushToTalkActive){e.preventDefault();this.stopPushToTalk();}};document.addEventListener('keydown',this.keyDownListener);document.addEventListener('keyup',this.keyUpListener);}isInputFocused(){const activeElement=document.activeElement;return activeElement instanceof HTMLInputElement||activeElement instanceof HTMLTextAreaElement||(activeElement===null||activeElement===void 0?void 0:activeElement.getAttribute('contenteditable'))==='true';}handleRecognitionResult(event){let finalTranscript='';let interimTranscript='';for(let i=event.resultIndex;i<event.results.length;i++){const result=event.results[i];const transcript=result[0].transcript;const confidence=result[0].confidence;if(result.isFinal){finalTranscript+=transcript;// Process the final result\nconst recognitionResult={transcript:finalTranscript.trim(),confidence,timestamp:new Date()};// Try to match voice commands\nconst command=this.parseCommand(recognitionResult.transcript);if(command){recognitionResult.command=command;}console.log('🎤 Voice recognized:',recognitionResult);this.emit('result',recognitionResult);}else{interimTranscript+=transcript;this.emit('interim',{transcript:interimTranscript,confidence});}}}parseCommand(transcript){const lowerTranscript=transcript.toLowerCase().trim();// Find the best matching command\nlet bestMatch=null;let bestScore=0;for(const command of this.commands){for(const trigger of command.trigger){const score=this.calculateSimilarity(lowerTranscript,trigger);if(score>bestScore&&score>=command.confidence){bestMatch=_objectSpread({},command);bestScore=score;}}}if(bestMatch){bestMatch.confidence=bestScore;console.log(\"\\uD83C\\uDFAF Command matched: \".concat(bestMatch.id,\" (\").concat(bestScore.toFixed(2),\")\"));}return bestMatch;}calculateSimilarity(text1,text2){// Simple word-based similarity calculation\nconst words1=text1.split(' ');const words2=text2.split(' ');// Check for exact match first\nif(text1===text2)return 1.0;// Check if all words of trigger are in transcript\nconst matchingWords=words2.filter(word=>words1.some(w=>w.includes(word)||word.includes(w)));const similarity=matchingWords.length/words2.length;// Bonus for word order\nif(text1.includes(text2)||text2.includes(text1)){return Math.min(similarity+0.2,1.0);}return similarity;}// Public methods\nisSupported(){return this.recognition!==null;}startListening(){if(!this.recognition||this.isListening)return;try{this.recognition.start();console.log('🎤 Starting voice recognition...');}catch(error){console.error('❌ Failed to start voice recognition:',error);}}stopListening(){if(!this.recognition||!this.isListening)return;try{this.recognition.stop();console.log('🎤 Stopping voice recognition...');}catch(error){console.error('❌ Failed to stop voice recognition:',error);}}startPushToTalk(){if(this.isPushToTalkActive)return;this.isPushToTalkActive=true;console.log('🎤 Push-to-talk activated');this.emit('pushToTalkStart');this.startListening();}stopPushToTalk(){if(!this.isPushToTalkActive)return;this.isPushToTalkActive=false;console.log('🎤 Push-to-talk deactivated');this.emit('pushToTalkStop');this.stopListening();}updateSettings(newSettings){this.settings=_objectSpread(_objectSpread({},this.settings),newSettings);if(this.recognition){this.recognition.lang=this.settings.language;this.recognition.continuous=this.settings.continuous;this.recognition.interimResults=this.settings.interimResults;this.recognition.maxAlternatives=this.settings.maxAlternatives;}}getSettings(){return _objectSpread({},this.settings);}addCommand(command){this.commands.push(command);console.log(\"\\uD83C\\uDFAF Added voice command: \".concat(command.id));}removeCommand(commandId){this.commands=this.commands.filter(cmd=>cmd.id!==commandId);console.log(\"\\uD83D\\uDDD1\\uFE0F Removed voice command: \".concat(commandId));}getCommands(){return[...this.commands];}setPushToTalkKey(key){this.pushToTalkKey=key;console.log(\"\\uD83C\\uDFA4 Push-to-talk key set to: \".concat(key));}// Event system\non(event,callback){this.callbacks.set(event,callback);}off(event){this.callbacks.delete(event);}emit(event,data){const callback=this.callbacks.get(event);if(callback){callback(data);}// Also dispatch window event for global listening\nwindow.dispatchEvent(new CustomEvent(\"voice:\".concat(event),{detail:data}));}// Cleanup\ndestroy(){if(this.recognition){this.recognition.abort();}if(this.keyDownListener&&this.keyUpListener){document.removeEventListener('keydown',this.keyDownListener);document.removeEventListener('keyup',this.keyUpListener);}this.callbacks.clear();console.log('🎤 Voice recognition service destroyed');}// Utility methods\nasync requestMicrophonePermission(){try{const stream=await navigator.mediaDevices.getUserMedia({audio:true});stream.getTracks().forEach(track=>track.stop());console.log('✅ Microphone permission granted');return true;}catch(error){console.error('❌ Microphone permission denied:',error);return false;}}testVoiceRecognition(){if(!this.isSupported()){console.error('❌ Voice recognition not supported');return;}console.log('🧪 Testing voice recognition...');this.on('result',result=>{console.log('🧪 Test result:',result);this.off('result');});this.startListening();setTimeout(()=>{this.stopListening();},5000);}}// Export singleton instance\nexport const voiceRecognitionService=new VoiceRecognitionService();export default voiceRecognitionService;","map":{"version":3,"names":["VoiceRecognitionService","constructor","recognition","isListening","isPushToTalkActive","settings","callbacks","Map","keyDownListener","keyUpListener","pushToTalkKey","commands","id","trigger","godId","action","confidence","language","continuous","interimResults","maxAlternatives","threshold","initializeRecognition","setupPushToTalk","window","console","error","SpeechRecognition","webkitSpeechRecognition","lang","onstart","log","emit","onend","onerror","event","onresult","handleRecognitionResult","e","code","isInputFocused","preventDefault","startPushToTalk","stopPushToTalk","document","addEventListener","activeElement","HTMLInputElement","HTMLTextAreaElement","getAttribute","finalTranscript","interimTranscript","i","resultIndex","results","length","result","transcript","isFinal","recognitionResult","trim","timestamp","Date","command","parseCommand","lowerTranscript","toLowerCase","bestMatch","bestScore","score","calculateSimilarity","_objectSpread","concat","toFixed","text1","text2","words1","split","words2","matchingWords","filter","word","some","w","includes","similarity","Math","min","isSupported","startListening","start","stopListening","stop","updateSettings","newSettings","getSettings","addCommand","push","removeCommand","commandId","cmd","getCommands","setPushToTalkKey","key","on","callback","set","off","delete","data","get","dispatchEvent","CustomEvent","detail","destroy","abort","removeEventListener","clear","requestMicrophonePermission","stream","navigator","mediaDevices","getUserMedia","audio","getTracks","forEach","track","testVoiceRecognition","setTimeout","voiceRecognitionService"],"sources":["D:/AI-Gods/src/services/voiceRecognition.ts"],"sourcesContent":["// Type definitions for Speech Recognition API\r\ndeclare global {\r\n    interface Window {\r\n        SpeechRecognition: any;\r\n        webkitSpeechRecognition: any;\r\n    }\r\n}\r\n\r\ninterface VoiceCommand {\r\n    id: string;\r\n    trigger: string[];\r\n    godId?: string;\r\n    action: 'summon' | 'ritual' | 'offering' | 'question' | 'dismiss' | 'council';\r\n    parameters?: Record<string, any>;\r\n    confidence: number;\r\n}\r\n\r\ninterface VoiceRecognitionResult {\r\n    transcript: string;\r\n    confidence: number;\r\n    command?: VoiceCommand;\r\n    timestamp: Date;\r\n}\r\n\r\ninterface VoiceSettings {\r\n    language: string;\r\n    continuous: boolean;\r\n    interimResults: boolean;\r\n    maxAlternatives: number;\r\n    threshold: number; // Confidence threshold\r\n}\r\n\r\nclass VoiceRecognitionService {\r\n    private recognition: any | null = null;\r\n    private isListening = false;\r\n    private isPushToTalkActive = false;\r\n    private settings: VoiceSettings;\r\n    private callbacks: Map<string, Function> = new Map();\r\n    private keyDownListener: ((e: KeyboardEvent) => void) | null = null;\r\n    private keyUpListener: ((e: KeyboardEvent) => void) | null = null;\r\n    private pushToTalkKey = ' '; // Spacebar\r\n\r\n    // Predefined voice commands for gods and rituals\r\n    private commands: VoiceCommand[] = [\r\n        // God summoning commands\r\n        {\r\n            id: 'summon-aethon',\r\n            trigger: ['summon aethon', 'call aethon', 'invoke aethon', 'aethon appear'],\r\n            godId: 'aethon',\r\n            action: 'summon',\r\n            confidence: 0.7\r\n        },\r\n        {\r\n            id: 'summon-nyxara',\r\n            trigger: ['summon nyxara', 'call nyxara', 'invoke nyxara', 'nyxara appear'],\r\n            godId: 'nyxara',\r\n            action: 'summon',\r\n            confidence: 0.7\r\n        },\r\n        {\r\n            id: 'summon-zephyros',\r\n            trigger: ['summon zephyros', 'call zephyros', 'invoke zephyros', 'zephyros appear'],\r\n            godId: 'zephyros',\r\n            action: 'summon',\r\n            confidence: 0.7\r\n        },\r\n        {\r\n            id: 'summon-korvain',\r\n            trigger: ['summon korvain', 'call korvain', 'invoke korvain', 'korvain appear'],\r\n            godId: 'korvain',\r\n            action: 'summon',\r\n            confidence: 0.7\r\n        },\r\n        {\r\n            id: 'summon-xerion',\r\n            trigger: ['summon xerion', 'call xerion', 'invoke xerion', 'xerion appear'],\r\n            godId: 'xerion',\r\n            action: 'summon',\r\n            confidence: 0.7\r\n        },\r\n\r\n        // Ritual commands\r\n        {\r\n            id: 'start-ritual',\r\n            trigger: ['start ritual', 'begin ritual', 'perform ritual', 'initiate ceremony'],\r\n            action: 'ritual',\r\n            confidence: 0.8\r\n        },\r\n        {\r\n            id: 'make-offering',\r\n            trigger: ['make offering', 'present offering', 'give offering', 'offer tribute'],\r\n            action: 'offering',\r\n            confidence: 0.8\r\n        },\r\n\r\n        // Council commands\r\n        {\r\n            id: 'convene-council',\r\n            trigger: ['convene council', 'start council', 'begin council', 'gather pantheon'],\r\n            action: 'council',\r\n            confidence: 0.8\r\n        },\r\n\r\n        // Question commands\r\n        {\r\n            id: 'ask-question',\r\n            trigger: ['i have a question', 'answer me', 'tell me', 'explain'],\r\n            action: 'question',\r\n            confidence: 0.6\r\n        },\r\n\r\n        // Dismissal commands\r\n        {\r\n            id: 'dismiss-god',\r\n            trigger: ['dismiss', 'go away', 'leave me', 'farewell', 'until next time'],\r\n            action: 'dismiss',\r\n            confidence: 0.7\r\n        }\r\n    ];\r\n\r\n    constructor() {\r\n        this.settings = {\r\n            language: 'en-US',\r\n            continuous: false,\r\n            interimResults: true,\r\n            maxAlternatives: 3,\r\n            threshold: 0.6\r\n        };\r\n\r\n        this.initializeRecognition();\r\n        this.setupPushToTalk();\r\n    }\r\n\r\n    private initializeRecognition(): void {\r\n        if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {\r\n            console.error('❌ Speech recognition not supported in this browser');\r\n            return;\r\n        }\r\n\r\n        // @ts-ignore\r\n        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\r\n        this.recognition = new SpeechRecognition();\r\n\r\n        if (!this.recognition) return;\r\n\r\n        this.recognition.continuous = this.settings.continuous;\r\n        this.recognition.interimResults = this.settings.interimResults;\r\n        this.recognition.lang = this.settings.language;\r\n        this.recognition.maxAlternatives = this.settings.maxAlternatives;\r\n\r\n        this.recognition.onstart = () => {\r\n            console.log('🎤 Voice recognition started');\r\n            this.isListening = true;\r\n            this.emit('start');\r\n        };\r\n\r\n        this.recognition.onend = () => {\r\n            console.log('🎤 Voice recognition ended');\r\n            this.isListening = false;\r\n            this.emit('end');\r\n        };\r\n\r\n        this.recognition.onerror = (event) => {\r\n            console.error('❌ Voice recognition error:', event.error);\r\n            this.emit('error', event.error);\r\n        };\r\n\r\n        this.recognition.onresult = (event) => {\r\n            this.handleRecognitionResult(event);\r\n        };\r\n    }\r\n\r\n    private setupPushToTalk(): void {\r\n        this.keyDownListener = (e: KeyboardEvent) => {\r\n            if (e.code === 'Space' && !this.isPushToTalkActive && !this.isInputFocused()) {\r\n                e.preventDefault();\r\n                this.startPushToTalk();\r\n            }\r\n        };\r\n\r\n        this.keyUpListener = (e: KeyboardEvent) => {\r\n            if (e.code === 'Space' && this.isPushToTalkActive) {\r\n                e.preventDefault();\r\n                this.stopPushToTalk();\r\n            }\r\n        };\r\n\r\n        document.addEventListener('keydown', this.keyDownListener);\r\n        document.addEventListener('keyup', this.keyUpListener);\r\n    }\r\n\r\n    private isInputFocused(): boolean {\r\n        const activeElement = document.activeElement;\r\n        return activeElement instanceof HTMLInputElement ||\r\n            activeElement instanceof HTMLTextAreaElement ||\r\n            activeElement?.getAttribute('contenteditable') === 'true';\r\n    }\r\n\r\n    private handleRecognitionResult(event: any): void {\r\n        let finalTranscript = '';\r\n        let interimTranscript = '';\r\n\r\n        for (let i = event.resultIndex; i < event.results.length; i++) {\r\n            const result = event.results[i];\r\n            const transcript = result[0].transcript;\r\n            const confidence = result[0].confidence;\r\n\r\n            if (result.isFinal) {\r\n                finalTranscript += transcript;\r\n\r\n                // Process the final result\r\n                const recognitionResult: VoiceRecognitionResult = {\r\n                    transcript: finalTranscript.trim(),\r\n                    confidence,\r\n                    timestamp: new Date()\r\n                };\r\n\r\n                // Try to match voice commands\r\n                const command = this.parseCommand(recognitionResult.transcript);\r\n                if (command) {\r\n                    recognitionResult.command = command;\r\n                }\r\n\r\n                console.log('🎤 Voice recognized:', recognitionResult);\r\n                this.emit('result', recognitionResult);\r\n            } else {\r\n                interimTranscript += transcript;\r\n                this.emit('interim', { transcript: interimTranscript, confidence });\r\n            }\r\n        }\r\n    }\r\n\r\n    private parseCommand(transcript: string): VoiceCommand | null {\r\n        const lowerTranscript = transcript.toLowerCase().trim();\r\n\r\n        // Find the best matching command\r\n        let bestMatch: VoiceCommand | null = null;\r\n        let bestScore = 0;\r\n\r\n        for (const command of this.commands) {\r\n            for (const trigger of command.trigger) {\r\n                const score = this.calculateSimilarity(lowerTranscript, trigger);\r\n                if (score > bestScore && score >= command.confidence) {\r\n                    bestMatch = { ...command };\r\n                    bestScore = score;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (bestMatch) {\r\n            bestMatch.confidence = bestScore;\r\n            console.log(`🎯 Command matched: ${bestMatch.id} (${bestScore.toFixed(2)})`);\r\n        }\r\n\r\n        return bestMatch;\r\n    }\r\n\r\n    private calculateSimilarity(text1: string, text2: string): number {\r\n        // Simple word-based similarity calculation\r\n        const words1 = text1.split(' ');\r\n        const words2 = text2.split(' ');\r\n\r\n        // Check for exact match first\r\n        if (text1 === text2) return 1.0;\r\n\r\n        // Check if all words of trigger are in transcript\r\n        const matchingWords = words2.filter(word =>\r\n            words1.some(w => w.includes(word) || word.includes(w))\r\n        );\r\n\r\n        const similarity = matchingWords.length / words2.length;\r\n\r\n        // Bonus for word order\r\n        if (text1.includes(text2) || text2.includes(text1)) {\r\n            return Math.min(similarity + 0.2, 1.0);\r\n        }\r\n\r\n        return similarity;\r\n    }\r\n\r\n    // Public methods\r\n    public isSupported(): boolean {\r\n        return this.recognition !== null;\r\n    }\r\n\r\n    public startListening(): void {\r\n        if (!this.recognition || this.isListening) return;\r\n\r\n        try {\r\n            this.recognition.start();\r\n            console.log('🎤 Starting voice recognition...');\r\n        } catch (error) {\r\n            console.error('❌ Failed to start voice recognition:', error);\r\n        }\r\n    }\r\n\r\n    public stopListening(): void {\r\n        if (!this.recognition || !this.isListening) return;\r\n\r\n        try {\r\n            this.recognition.stop();\r\n            console.log('🎤 Stopping voice recognition...');\r\n        } catch (error) {\r\n            console.error('❌ Failed to stop voice recognition:', error);\r\n        }\r\n    }\r\n\r\n    public startPushToTalk(): void {\r\n        if (this.isPushToTalkActive) return;\r\n\r\n        this.isPushToTalkActive = true;\r\n        console.log('🎤 Push-to-talk activated');\r\n        this.emit('pushToTalkStart');\r\n        this.startListening();\r\n    }\r\n\r\n    public stopPushToTalk(): void {\r\n        if (!this.isPushToTalkActive) return;\r\n\r\n        this.isPushToTalkActive = false;\r\n        console.log('🎤 Push-to-talk deactivated');\r\n        this.emit('pushToTalkStop');\r\n        this.stopListening();\r\n    }\r\n\r\n    public updateSettings(newSettings: Partial<VoiceSettings>): void {\r\n        this.settings = { ...this.settings, ...newSettings };\r\n\r\n        if (this.recognition) {\r\n            this.recognition.lang = this.settings.language;\r\n            this.recognition.continuous = this.settings.continuous;\r\n            this.recognition.interimResults = this.settings.interimResults;\r\n            this.recognition.maxAlternatives = this.settings.maxAlternatives;\r\n        }\r\n    }\r\n\r\n    public getSettings(): VoiceSettings {\r\n        return { ...this.settings };\r\n    }\r\n\r\n    public addCommand(command: VoiceCommand): void {\r\n        this.commands.push(command);\r\n        console.log(`🎯 Added voice command: ${command.id}`);\r\n    }\r\n\r\n    public removeCommand(commandId: string): void {\r\n        this.commands = this.commands.filter(cmd => cmd.id !== commandId);\r\n        console.log(`🗑️ Removed voice command: ${commandId}`);\r\n    }\r\n\r\n    public getCommands(): VoiceCommand[] {\r\n        return [...this.commands];\r\n    }\r\n\r\n    public setPushToTalkKey(key: string): void {\r\n        this.pushToTalkKey = key;\r\n        console.log(`🎤 Push-to-talk key set to: ${key}`);\r\n    }\r\n\r\n    // Event system\r\n    public on(event: string, callback: Function): void {\r\n        this.callbacks.set(event, callback);\r\n    }\r\n\r\n    public off(event: string): void {\r\n        this.callbacks.delete(event);\r\n    }\r\n\r\n    private emit(event: string, data?: any): void {\r\n        const callback = this.callbacks.get(event);\r\n        if (callback) {\r\n            callback(data);\r\n        }\r\n\r\n        // Also dispatch window event for global listening\r\n        window.dispatchEvent(new CustomEvent(`voice:${event}`, { detail: data }));\r\n    }\r\n\r\n    // Cleanup\r\n    public destroy(): void {\r\n        if (this.recognition) {\r\n            this.recognition.abort();\r\n        }\r\n\r\n        if (this.keyDownListener && this.keyUpListener) {\r\n            document.removeEventListener('keydown', this.keyDownListener);\r\n            document.removeEventListener('keyup', this.keyUpListener);\r\n        }\r\n\r\n        this.callbacks.clear();\r\n        console.log('🎤 Voice recognition service destroyed');\r\n    }\r\n\r\n    // Utility methods\r\n    public async requestMicrophonePermission(): Promise<boolean> {\r\n        try {\r\n            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n            stream.getTracks().forEach(track => track.stop());\r\n            console.log('✅ Microphone permission granted');\r\n            return true;\r\n        } catch (error) {\r\n            console.error('❌ Microphone permission denied:', error);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public testVoiceRecognition(): void {\r\n        if (!this.isSupported()) {\r\n            console.error('❌ Voice recognition not supported');\r\n            return;\r\n        }\r\n\r\n        console.log('🧪 Testing voice recognition...');\r\n        this.on('result', (result: VoiceRecognitionResult) => {\r\n            console.log('🧪 Test result:', result);\r\n            this.off('result');\r\n        });\r\n\r\n        this.startListening();\r\n\r\n        setTimeout(() => {\r\n            this.stopListening();\r\n        }, 5000);\r\n    }\r\n}\r\n\r\n// Export singleton instance\r\nexport const voiceRecognitionService = new VoiceRecognitionService();\r\nexport default voiceRecognitionService;\r\nexport type { VoiceCommand, VoiceRecognitionResult, VoiceSettings };\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}